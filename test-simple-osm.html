<!DOCTYPE html>
<html>
<head>
    <title>Simple OpenStreetMap Test</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
        #map { height: 400px; width: 100%; border: 1px solid #ccc; border-radius: 8px; }
        .info { margin: 10px 0; padding: 10px; background: #f0f9ff; border-radius: 4px; }
        .success { background: #d1fae5; color: #065f46; }
        .error { background: #fee2e2; color: #991b1b; }
    </style>
</head>
<body>
    <h1>üó∫Ô∏è Simple OpenStreetMap Test</h1>
    <div id="status" class="info">Status: Loading...</div>
    <div id="map"></div>
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        function updateStatus(message, type = 'info') {
            const statusEl = document.getElementById('status');
            statusEl.textContent = 'Status: ' + message;
            statusEl.className = 'info ' + type;
        }
        
        updateStatus('Initializing map...');
        
        // Initialize map - exact same as working examples
        var map = L.map('map').setView([-6.2088, 106.8456], 15);
        
        // Add OpenStreetMap tiles - most reliable option
        var tileLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap contributors',
            maxZoom: 18
        });
        
        var tilesLoaded = 0;
        var tilesErrored = 0;
        
        tileLayer.on('tileload', function() {
            tilesLoaded++;
            if (tilesLoaded === 1) {
                updateStatus('OpenStreetMap loaded successfully! ‚úÖ', 'success');
                console.log('‚úÖ First tile loaded');
            }
        });
        
        tileLayer.on('tileerror', function(e) {
            tilesErrored++;
            console.error('Tile error:', e);
            if (tilesErrored > 3) {
                updateStatus('Failed to load tiles ‚ùå', 'error');
            }
        });
        
        tileLayer.addTo(map);
        
        // Add markers
        var checkpoint1 = L.marker([-6.2088, 106.8456]).addTo(map)
            .bindPopup('<b>Checkpoint 1</b><br>Jakarta, Indonesia<br><small>-6.2088, 106.8456</small>');
            
        var checkpoint2 = L.marker([-6.2100, 106.8470]).addTo(map)
            .bindPopup('<b>Checkpoint 2</b><br>Jakarta, Indonesia<br><small>-6.2100, 106.8470</small>');
            
        var patrol1 = L.marker([-6.2090, 106.8458]).addTo(map)
            .bindPopup('<b>Patrol Location</b><br>Jakarta, Indonesia<br><small>-6.2090, 106.8458</small>');
        
        // Fit bounds to show all markers
        var group = new L.featureGroup([checkpoint1, checkpoint2, patrol1]);
        map.fitBounds(group.getBounds().pad(0.1));
        
        console.log('Map initialized with 3 markers');
    </script>
</body>
</html>